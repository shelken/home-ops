---
web:
  port: ${WEB_PORT} #kustomize.toolkit.fluxcd.io/substitute: disabled开启注解让gatus自己解析环境变量
# storage:
#   type: sqlite
#   path: /config/sqlite.db
#   caching: true
metrics: true
debug: false
ui:
  title: 状态 | Gatus
  header: Status
  logo: https://wsrv.nl?url=https://avatars.githubusercontent.com/u/33972006?fit=cover&mask=circle&maxage=7d
  link: https://github.com/shelken
  buttons:
    - name: Github
      link: https://github.com/shelken
    - name: Homelab
      link: https://github.com/shelken/home-ops
connectivity:
  checker:
    target: 223.5.5.5:53
    interval: 1m
alerting:
  slack:
    webhook-url: ${WEBHOOK_URL}
    default-alert:
      description: "health check failed"
      send-on-resolved: false
      failure-threshold: 3
      success-threshold: 2
  telegram:
    token: ${TELEGRAM_BOT_TOKEN}
    id: ${TELEGRAM_USER_ID}
    default-alert:
      send-on-resolved: true
      failure-threshold: 1
  # WeCom 企业微信
  custom:
    url: "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=${WECOM_BOT_TOKEN}"
    method: "POST"
    headers:
      Content-Type: application/json
    placeholders:
      ALERT_TRIGGERED_OR_RESOLVED:
        TRIGGERED: "❌ 离线"
        RESOLVED: "✅ 恢复"
    body: |
      {
        "msgtype": "text",
        "text": {
          "content": "Gatus 状态\n[ALERT_TRIGGERED_OR_RESOLVED]\n[ENDPOINT_GROUP] - [ENDPOINT_NAME] \n[RESULT_CONDITIONS]"
        }
      }
    default-alert:
      send-on-resolved: true
      failure-threshold: 1
# security:
#   oidc:
#     issuer-url: "https://auth.${MAIN_DOMAIN}"
#     client-id: "gatus"
#     client-secret: ${GATUS_SSO_CLIENT_SECRET}
#     redirect-url: "https://status.${MAIN_DOMAIN}/authorization-code/callback"
#     scopes: ["openid", "profile", "email"]
