apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default
components:
  - ../../components/common
resources:
  - affine/ks.yaml
  - caches/ks.yaml
  - cli-proxy-api/ks.yaml
  # - dozzle/ks.yaml
  - echo/ks.yaml
  - frigate/ks.yaml
  - glance/ks.yaml
  - go2rtc/ks.yaml
  - home-assistant/ks.yaml
  - homepage/ks.yaml
  - icloudpd/ks.yaml
  - immich/ks.yaml
  - it-tools/ks.yaml
  - jellyfin/ks.yaml
  # - kite/ks.yaml
  # - karakeep/ks.yaml
  - kromgo/ks.yaml
  # - librespeed/ks.yaml
  - memos/ks.yaml
  - metatube/ks.yaml
  - mosquitto/ks.yaml # for frigate
  # - n8n/ks.yaml
  # - new-api/ks.yaml
  - ollama/ks.yaml
  - openlist/ks.yaml
  - qbittorrent/ks.yaml
  - qui/ks.yaml
  - plex/ks.yaml
  - seafile/ks.yaml
  - shlink/ks.yaml
  - slash/ks.yaml
  - smb-volumes/ks.yaml
  # - vaultwarden/ks.yaml
  - zte-mifi-exporter/ks.yaml

patches:
  - target:
      kind: Namespace
    patch: |-
      - op: add
        path: /metadata/annotations/volsync.backube~1privileged-movers
        value: "true"
