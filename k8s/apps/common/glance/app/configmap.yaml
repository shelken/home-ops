---
apiVersion: v1
kind: ConfigMap
metadata:
  name: glance-config
data:
  glance.yml: |
    pages:
      - name: Home
        columns:
          # 左栏: 书签、日历
          - size: small
            widgets:
              - type: bookmarks
                groups:
                  - title: 基础设施
                    links:
                      - title: Grafana
                        url: https://grafana.${MAIN_DOMAIN}
                      - title: Longhorn
                        url: https://longhorn.${MAIN_DOMAIN}
                      - title: Flux Operator
                        url: https://flux-operator.${MAIN_DOMAIN}
                      - title: AlertManager
                        url: https://alertmanager.${MAIN_DOMAIN}
                      - title: Authelia
                        url: https://authelia.${MAIN_DOMAIN}
                      - title: pocket-id
                        url: https://pocket-id.${MAIN_DOMAIN}
                  - title: 媒体
                    links:
                      - title: Jellyfin
                        url: https://jellyfin.${MAIN_DOMAIN}
                      - title: Plex
                        url: https://plex.${MAIN_DOMAIN}
                      - title: Frigate
                        url: https://frigate.${MAIN_DOMAIN}
                      - title: go2rtc
                        url: https://go2rtc.${MAIN_DOMAIN}
                      - title: metatube
                        url: https://metatube.${MAIN_DOMAIN}
                  - title: 工具
                    links:
                      - title: VaultWarden
                        url: https://vaultwarden.${MAIN_DOMAIN}
                      - title: it-tools
                        url: https://it-tools.${MAIN_DOMAIN}
                      - title: librespeed
                        url: https://librespeed.${MAIN_DOMAIN}
                      - title: Shlink
                        url: https://shlink.${MAIN_DOMAIN}
                      - title: slash
                        url: https://slash.${MAIN_DOMAIN}
                      - title: echo
                        url: https://echo.${MAIN_DOMAIN}
                      - title: Kromgo
                        url: https://kromgo.${MAIN_DOMAIN}
                  - title: 应用
                    links:
                      - title: Memos
                        url: https://memos.${MAIN_DOMAIN}
                      - title: Affine
                        url: https://affine.${MAIN_DOMAIN}
                      - title: n8n
                        url: https://n8n.${MAIN_DOMAIN}
                      - title: Karakeep
                        url: https://karakeep.${MAIN_DOMAIN}
                      - title: HomeAssistant
                        url: https://homeassistant.${MAIN_DOMAIN}
                      - title: Hass Code Server
                        url: https://hass-code.${MAIN_DOMAIN}
                  - title: AI
                    links:
                      - title: Ollama Web
                        url: https://ollama.${MAIN_DOMAIN}
                      - title: new-api
                        url: https://new-api.${MAIN_DOMAIN}
                      - title: cli-proxy-api
                        url: https://cli-proxy-api.${MAIN_DOMAIN}
                  - title: 存储
                    links:
                      - title: Seafile
                        url: https://seafile.${MAIN_DOMAIN}
                      - title: OpenList
                        url: https://openlist.${MAIN_DOMAIN}
                      - title: icloudpd
                        url: https://icloudpd.${MAIN_DOMAIN}
                      - title: kopia
                        url: https://kopia.${MAIN_DOMAIN}
                      - title: qbittorrent
                        url: https://qbittorrent.${MAIN_DOMAIN}
                      - title: icache
                        url: https://icache.${MAIN_DOMAIN}
              - type: calendar
                first-day-of-week: monday

          # 中栏: 搜索、Hacker News、RSS(预留)
          - size: full
            widgets:
              - type: search
                search-engine: google
                autofocus: true
              - type: hacker-news
                limit: 10
                collapse-after: 5
              # TODO: 取消注释并添加订阅源以启用 RSS widget
              # - type: rss
              #   title: RSS 订阅
              #   limit: 10
              #   collapse-after: 5
              #   feeds:
              #     - url: https://example.com/feed.xml
              #       title: 示例订阅

          # 右栏: 时钟、GitHub Releases(预留)
          - size: small
            widgets:
              - type: clock
                hour-format: "24h"
                timezones:
                  - timezone: Asia/Shanghai
                    label: Shanghai
              # TODO: 取消注释并添加项目以启用 GitHub Releases widget
              # - type: releases
              #   title: GitHub Releases
              #   repositories:
              #     - fluxcd/flux2
              #     - longhorn/longhorn
              #     - cilium/cilium
